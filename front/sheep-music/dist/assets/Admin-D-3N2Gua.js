import{_ as e,u as a}from"./index-Cb8xoRiw.js";import{b as l,d as t,c as o,u as i,e as r}from"./artist-B-rHTsNg.js";import{L as n,P as u,aa as s,ah as d,o as c}from"./element-plus-CCPVPfgN.js";import{r as p,h as m,d as g,m as f,q as h,t as v,C as b,H as y,B as w,a8 as _,ac as V,A as k,F as D,D as C,c as x,G as S,Y as z}from"./vue-vendor-BzZaYQKc.js";import{c as U,d as L,e as q,f as A,u as M}from"./song-C8TMBuSO.js";import"./request-76E38DvM.js";const R={class:"artist-management"},B={class:"toolbar"},E={key:0,style:{"margin-top":"10px"}};const I={class:"song-management"},j={class:"toolbar"},G={key:1,style:{color:"#999"}},N={key:1,style:{color:"#999"}},P={style:{"margin-left":"10px",color:"#999"}},T=["src"],H={key:0,style:{"margin-top":"10px"}},Q={style:{"margin-left":"10px",color:"#999","font-size":"12px"}},K={class:"batch-edit-container"},W={class:"batch-edit-toolbar"},$={style:{"margin-top":"10px"}},F={style:{display:"flex","flex-direction":"column",gap:"5px"}};const J={class:"admin-page"};const O=e({name:"Admin",components:{ArtistManagement:e({name:"ArtistManagement",setup(){const e=p(!1),a=p(!1),r=p([]),u=p(!1),s=p("add"),d=p(null),c=m({page:1,size:10,total:0}),f=m({id:null,name:"",avatar:"",region:"",description:""}),h=async()=>{e.value=!0;try{const e=await l({page:c.page-1,size:c.size});r.value=e.data.content||[],c.total=e.data.totalElements||0}catch(a){n.error("èŽ·å–æ­Œæ‰‹åˆ—è¡¨å¤±è´¥")}finally{e.value=!1}},v=()=>{f.id=null,f.name="",f.avatar="",f.region="",f.description="",d.value&&d.value.clearValidate()};return g(()=>{h()}),{loading:e,submitLoading:a,artistList:r,pagination:c,dialogVisible:u,dialogMode:s,formRef:d,formData:f,formRules:{name:[{required:!0,message:"è¯·è¾“å…¥æ­Œæ‰‹åç§°",trigger:"blur"},{min:1,max:50,message:"é•¿åº¦åœ¨ 1 åˆ° 50 ä¸ªå­—ç¬¦",trigger:"blur"}]},fetchArtists:h,showAddDialog:()=>{s.value="add",v(),u.value=!0},showEditDialog:e=>{s.value="edit",f.id=e.id,f.name=e.name,f.avatar=e.avatar||"",f.region=e.region||"",f.description=e.description||"",u.value=!0},handleSubmit:async()=>{d.value&&await d.value.validate(async e=>{if(e)try{a.value=!0;const e={name:f.name,avatar:f.avatar||null,region:f.region||null,description:f.description||null};"add"===s.value?(await o(e),n.success("æ–°å¢žæˆåŠŸ")):(await i(f.id,e),n.success("æ›´æ–°æˆåŠŸ")),u.value=!1,h()}catch(l){n.error(l.message||"æ“ä½œå¤±è´¥")}finally{a.value=!1}})},handleDelete:async e=>{try{await t(e),n.success("åˆ é™¤æˆåŠŸ"),h()}catch(a){n.error(a.message||"åˆ é™¤å¤±è´¥")}},formatDate:e=>{if(!e)return"-";return new Date(e).toLocaleString("zh-CN")}}}},[["render",function(e,a,l,t,o,i){const r=_("el-button"),n=_("el-table-column"),s=_("el-avatar"),d=_("el-popconfirm"),c=_("el-table"),p=_("el-pagination"),m=_("el-input"),g=_("el-form-item"),x=_("el-form"),S=_("el-dialog"),z=V("loading");return h(),f("div",R,[v("div",B,[y(r,{type:"primary",icon:"Plus",onClick:t.showAddDialog},{default:w(()=>[...a[8]||(a[8]=[D(" æ–°å¢žæ­Œæ‰‹ ",-1)])]),_:1},8,["onClick"]),y(r,{icon:"Refresh",onClick:t.fetchArtists},{default:w(()=>[...a[9]||(a[9]=[D("åˆ·æ–°",-1)])]),_:1},8,["onClick"])]),b((h(),k(c,{data:t.artistList,border:"",stripe:"",style:{width:"100%"}},{default:w(()=>[y(n,{type:"index",label:"åºå·",width:"60",align:"center"}),y(n,{label:"å¤´åƒ",width:"80",align:"center"},{default:w(({row:e})=>[y(s,{size:50,src:e.avatar},{default:w(()=>{var a;return[D(u(null==(a=e.name)?void 0:a.charAt(0)),1)]}),_:2},1032,["src"])]),_:1}),y(n,{prop:"name",label:"æ­Œæ‰‹åç§°",width:"150"}),y(n,{prop:"region",label:"å›½å®¶/åœ°åŒº",width:"120"}),y(n,{prop:"description",label:"ç®€ä»‹","show-overflow-tooltip":""}),y(n,{prop:"createTime",label:"åˆ›å»ºæ—¶é—´",width:"180"},{default:w(({row:e})=>[D(u(t.formatDate(e.createTime)),1)]),_:1}),y(n,{label:"æ“ä½œ",width:"180",fixed:"right",align:"center"},{default:w(({row:e})=>[y(r,{type:"primary",size:"small",onClick:a=>t.showEditDialog(e)},{default:w(()=>[...a[10]||(a[10]=[D(" ç¼–è¾‘ ",-1)])]),_:1},8,["onClick"]),y(d,{title:"ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæ­Œæ‰‹å—ï¼Ÿ",onConfirm:a=>t.handleDelete(e.id)},{reference:w(()=>[y(r,{type:"danger",size:"small"},{default:w(()=>[...a[11]||(a[11]=[D("åˆ é™¤",-1)])]),_:1})]),_:1},8,["onConfirm"])]),_:1})]),_:1},8,["data"])),[[z,t.loading]]),y(p,{"current-page":t.pagination.page,"onUpdate:currentPage":a[0]||(a[0]=e=>t.pagination.page=e),"page-size":t.pagination.size,"onUpdate:pageSize":a[1]||(a[1]=e=>t.pagination.size=e),total:t.pagination.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:t.fetchArtists,onCurrentChange:t.fetchArtists,style:{"margin-top":"20px","justify-content":"center"}},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),y(S,{modelValue:t.dialogVisible,"onUpdate:modelValue":a[7]||(a[7]=e=>t.dialogVisible=e),title:"add"===t.dialogMode?"æ–°å¢žæ­Œæ‰‹":"ç¼–è¾‘æ­Œæ‰‹",width:"600px","close-on-click-modal":!1},{footer:w(()=>[y(r,{onClick:a[6]||(a[6]=e=>t.dialogVisible=!1)},{default:w(()=>[...a[12]||(a[12]=[D("å–æ¶ˆ",-1)])]),_:1}),y(r,{type:"primary",loading:t.submitLoading,onClick:t.handleSubmit},{default:w(()=>[...a[13]||(a[13]=[D(" ç¡®å®š ",-1)])]),_:1},8,["loading","onClick"])]),default:w(()=>[y(x,{ref:"formRef",model:t.formData,rules:t.formRules,"label-width":"100px"},{default:w(()=>[y(g,{label:"æ­Œæ‰‹åç§°",prop:"name"},{default:w(()=>[y(m,{modelValue:t.formData.name,"onUpdate:modelValue":a[2]||(a[2]=e=>t.formData.name=e),placeholder:"è¯·è¾“å…¥æ­Œæ‰‹åç§°",maxlength:"50","show-word-limit":""},null,8,["modelValue"])]),_:1}),y(g,{label:"å¤´åƒURL",prop:"avatar"},{default:w(()=>[y(m,{modelValue:t.formData.avatar,"onUpdate:modelValue":a[3]||(a[3]=e=>t.formData.avatar=e),placeholder:"è¯·è¾“å…¥å¤´åƒURL",type:"url"},null,8,["modelValue"]),t.formData.avatar?(h(),f("div",E,[y(s,{size:80,src:t.formData.avatar},{default:w(()=>{var e;return[D(u(null==(e=t.formData.name)?void 0:e.charAt(0)),1)]}),_:1},8,["src"])])):C("",!0)]),_:1}),y(g,{label:"å›½å®¶/åœ°åŒº",prop:"region"},{default:w(()=>[y(m,{modelValue:t.formData.region,"onUpdate:modelValue":a[4]||(a[4]=e=>t.formData.region=e),placeholder:"ä¾‹å¦‚ï¼šä¸­å›½å°æ¹¾",maxlength:"50"},null,8,["modelValue"])]),_:1}),y(g,{label:"ç®€ä»‹",prop:"description"},{default:w(()=>[y(m,{modelValue:t.formData.description,"onUpdate:modelValue":a[5]||(a[5]=e=>t.formData.description=e),type:"textarea",rows:4,placeholder:"è¯·è¾“å…¥æ­Œæ‰‹ç®€ä»‹",maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}],["__scopeId","data-v-72ce226f"]]),SongManagement:e({name:"SongManagement",components:{Plus:d,Search:s},setup(){const e=p(!1),a=p(!1),l=p(!1),t=p(!1),o=p([]),i=p([]),u=p(!1),s=p("add"),d=p(null),c=p(!1),f=p(!1),h=p(!1),v=p([]),b=p(""),y=p(!1),w=p(!1),_=p(""),V=p(""),k=x(()=>({Authorization:`Bearer ${localStorage.getItem("token")}`})),D=m({page:1,size:10,total:0}),C=m({id:null,title:"",artistIds:[],albumName:"",duration:null,cover:"",url:"",lyric:"",status:1}),S=async()=>{e.value=!0;try{const e=await U({page:D.page-1,size:D.size});o.value=e.data.content||[],D.total=e.data.totalElements||0}catch(a){n.error("èŽ·å–æ­Œæ›²åˆ—è¡¨å¤±è´¥")}finally{e.value=!1}},z=()=>{C.id=null,C.title="",C.artistIds=[],C.albumName="",C.duration=null,C.cover="",C.url="",C.lyric="",C.status=1,l.value=!1,t.value=!1,d.value&&d.value.clearValidate()},R=x(()=>{if(!b.value)return v.value;const e=b.value.toLowerCase();return v.value.filter(a=>{var l,t;const o=(null==(l=a.title)?void 0:l.toLowerCase())||"",i=(null==(t=a.artists)?void 0:t.map(e=>e.name.toLowerCase()).join(" "))||"";return o.includes(e)||i.includes(e)})});return g(()=>{S(),(async()=>{try{const e=await r();i.value=e.data||[]}catch(e){n.error("èŽ·å–æ­Œæ‰‹åˆ—è¡¨å¤±è´¥")}})()}),{loading:e,submitLoading:a,coverUploading:l,musicUploading:t,songList:o,artists:i,pagination:D,dialogVisible:u,dialogMode:s,formRef:d,formData:C,formRules:{title:[{required:!0,message:"è¯·è¾“å…¥æ­Œæ›²åç§°",trigger:"blur"}],artistIds:[{required:!0,type:"array",min:1,message:"è¯·è‡³å°‘é€‰æ‹©ä¸€ä½æ­Œæ‰‹",trigger:"change"}],url:[{required:!0,message:"è¯·ä¸Šä¼ éŸ³ä¹æ–‡ä»¶",trigger:"change"}]},uploadCoverAction:"/api/upload/cover",uploadMusicAction:"/api/upload/music",uploadHeaders:k,fetchSongs:S,showAddDialog:()=>{s.value="add",z(),u.value=!0},showEditDialog:e=>{s.value="edit",C.id=e.id,C.title=e.title,C.artistIds=e.artists&&e.artists.length>0?e.artists.map(e=>e.id):[],C.albumName=e.albumName||"",C.duration=e.duration,C.cover=e.cover||"",C.url=e.url,C.lyric=e.lyric||"",C.status=e.status,u.value=!0},beforeCoverUpload:e=>{const a=e.type.startsWith("image/"),l=e.size/1024/1024<2;return a?!!l||(n.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 2MB!"),!1):(n.error("åªèƒ½ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶!"),!1)},handleCoverSuccess:e=>{var a;l.value=!1;const t=(null==(a=null==e?void 0:e.data)?void 0:a.url)||(null==e?void 0:e.url);t?(C.cover=t,n.success("å°é¢ä¸Šä¼ æˆåŠŸ")):n.error("å°é¢ä¸Šä¼ å¤±è´¥")},beforeMusicUpload:e=>{const a=e.type.startsWith("audio/"),l=e.size/1024/1024<30;return a?!!l||(n.error("éŸ³é¢‘æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡ 30MB!"),!1):(n.error("åªèƒ½ä¸Šä¼ éŸ³é¢‘æ–‡ä»¶!"),!1)},handleMusicSuccess:e=>{var a;t.value=!1;const l=(null==(a=null==e?void 0:e.data)?void 0:a.url)||(null==e?void 0:e.url);l?(C.url=l,n.success("éŸ³ä¹æ–‡ä»¶ä¸Šä¼ æˆåŠŸ")):n.error("éŸ³ä¹æ–‡ä»¶ä¸Šä¼ å¤±è´¥")},handleSubmit:async()=>{d.value&&await d.value.validate(async e=>{if(e)try{a.value=!0;const e={title:C.title,artistIds:C.artistIds,albumName:C.albumName||null,duration:C.duration,cover:C.cover||null,url:C.url,lyric:C.lyric||null,status:C.status};"add"===s.value?(await A(e),n.success("æ–°å¢žæˆåŠŸ")):(await M(C.id,e),n.success("æ›´æ–°æˆåŠŸ")),u.value=!1,S()}catch(l){n.error(l.message||"æ“ä½œå¤±è´¥")}finally{a.value=!1}})},handleDelete:async e=>{try{await q(e),n.success("åˆ é™¤æˆåŠŸ"),S()}catch(a){n.error(a.message||"åˆ é™¤å¤±è´¥")}},formatDuration:e=>{if(!e)return"00:00";const a=Math.floor(e/60),l=e%60;return`${String(a).padStart(2,"0")}:${String(l).padStart(2,"0")}`},formatDate:e=>{if(!e)return"-";return new Date(e).toLocaleString("zh-CN")},batchEditDialogVisible:c,batchSongList:v,batchLoading:f,batchSubmitLoading:h,batchSearchKeyword:b,filteredBatchSongList:R,quickGenreDialogVisible:y,quickLanguageDialogVisible:w,quickGenreValue:_,quickLanguageValue:V,showBatchEditDialog:async()=>{f.value=!0,c.value=!0;try{const e=await U({page:0,size:9999});v.value=(e.data.content||[]).map(e=>({...e,genre:e.genre||"",language:e.language||""}))}catch(e){n.error("èŽ·å–æ­Œæ›²åˆ—è¡¨å¤±è´¥")}finally{f.value=!1}},quickSetGenre:()=>{_.value="",y.value=!0},quickSetLanguage:()=>{V.value="",w.value=!0},applyQuickGenre:()=>{_.value?(v.value.forEach(e=>{e.genre=_.value}),n.success("å·²åº”ç”¨åˆ°æ‰€æœ‰æ­Œæ›²"),y.value=!1):n.warning("è¯·é€‰æ‹©ç±»åž‹")},applyQuickLanguage:()=>{V.value?(v.value.forEach(e=>{e.language=V.value}),n.success("å·²åº”ç”¨åˆ°æ‰€æœ‰æ­Œæ›²"),w.value=!1):n.warning("è¯·é€‰æ‹©è¯­è¨€")},handleBatchSubmit:async()=>{h.value=!0;try{const e=v.value.map(e=>({id:e.id,genre:e.genre||"",language:e.language||""}));await L(e),n.success("æ‰¹é‡æ›´æ–°æˆåŠŸ"),c.value=!1,S()}catch(e){n.error("æ‰¹é‡æ›´æ–°å¤±è´¥ï¼š"+(e.message||"æœªçŸ¥é”™è¯¯"))}finally{h.value=!1}}}}},[["render",function(e,a,l,t,o,i){const r=_("el-button"),n=_("el-table-column"),s=_("el-image"),d=_("el-tag"),p=_("el-popconfirm"),m=_("el-table"),g=_("el-pagination"),x=_("el-input"),U=_("el-form-item"),L=_("el-option"),q=_("el-select"),A=_("el-input-number"),M=_("Plus"),R=_("el-icon"),B=_("el-upload"),E=_("el-radio"),J=_("el-radio-group"),O=_("el-form"),Y=_("el-dialog"),X=_("el-alert"),Z=_("Search"),ee=V("loading");return h(),f("div",I,[v("div",j,[y(r,{type:"primary",icon:"Plus",onClick:t.showAddDialog},{default:w(()=>[...a[19]||(a[19]=[D(" æ–°å¢žæ­Œæ›² ",-1)])]),_:1},8,["onClick"]),y(r,{type:"success",icon:"Edit",onClick:t.showBatchEditDialog},{default:w(()=>[...a[20]||(a[20]=[D(" æ‰¹é‡ç¼–è¾‘ç±»åž‹å’Œè¯­è¨€ ",-1)])]),_:1},8,["onClick"]),y(r,{icon:"Refresh",onClick:t.fetchSongs},{default:w(()=>[...a[21]||(a[21]=[D("åˆ·æ–°",-1)])]),_:1},8,["onClick"])]),b((h(),k(m,{data:t.songList,border:"",stripe:"",style:{width:"100%"}},{default:w(()=>[y(n,{type:"index",label:"åºå·",width:"60",align:"center"}),y(n,{label:"å°é¢",width:"80",align:"center"},{default:w(({row:e})=>[y(s,{style:{width:"50px",height:"50px","border-radius":"4px"},src:e.cover,fit:"cover"},{error:w(()=>[...a[22]||(a[22]=[v("div",{class:"image-slot"},"ðŸŽµ",-1)])]),_:1},8,["src"])]),_:1}),y(n,{prop:"title",label:"æ­Œæ›²åç§°",width:"200"}),y(n,{label:"æ­Œæ‰‹",width:"150"},{default:w(({row:e})=>[D(u(e.artists&&e.artists.length>0?e.artists.map(e=>e.name).join(" / "):"-"),1)]),_:1}),y(n,{prop:"albumName",label:"ä¸“è¾‘",width:"150","show-overflow-tooltip":""}),y(n,{prop:"genre",label:"ç±»åž‹",width:"100",align:"center"},{default:w(({row:e})=>[e.genre?(h(),k(d,{key:0,size:"small",type:"info"},{default:w(()=>[D(u(e.genre),1)]),_:2},1024)):(h(),f("span",G,"æœªè®¾ç½®"))]),_:1}),y(n,{prop:"language",label:"è¯­è¨€",width:"100",align:"center"},{default:w(({row:e})=>[e.language?(h(),k(d,{key:0,size:"small",type:"success"},{default:w(()=>[D(u(e.language),1)]),_:2},1024)):(h(),f("span",N,"æœªè®¾ç½®"))]),_:1}),y(n,{prop:"duration",label:"æ—¶é•¿",width:"80",align:"center"},{default:w(({row:e})=>[D(u(t.formatDuration(e.duration)),1)]),_:1}),y(n,{prop:"playCount",label:"æ’­æ”¾æ¬¡æ•°",width:"100",align:"center"}),y(n,{prop:"status",label:"çŠ¶æ€",width:"80",align:"center"},{default:w(({row:e})=>[y(d,{type:1===e.status?"success":"danger",size:"small"},{default:w(()=>[D(u(1===e.status?"ä¸Šæž¶":"ä¸‹æž¶"),1)]),_:2},1032,["type"])]),_:1}),y(n,{prop:"createTime",label:"åˆ›å»ºæ—¶é—´",width:"180"},{default:w(({row:e})=>[D(u(t.formatDate(e.createTime)),1)]),_:1}),y(n,{label:"æ“ä½œ",width:"180",fixed:"right",align:"center"},{default:w(({row:e})=>[y(r,{type:"primary",size:"small",onClick:a=>t.showEditDialog(e)},{default:w(()=>[...a[23]||(a[23]=[D(" ç¼–è¾‘ ",-1)])]),_:1},8,["onClick"]),y(p,{title:"ç¡®å®šè¦åˆ é™¤è¿™é¦–æ­Œæ›²å—ï¼Ÿ",onConfirm:a=>t.handleDelete(e.id)},{reference:w(()=>[y(r,{type:"danger",size:"small"},{default:w(()=>[...a[24]||(a[24]=[D("åˆ é™¤",-1)])]),_:1})]),_:1},8,["onConfirm"])]),_:1})]),_:1},8,["data"])),[[ee,t.loading]]),y(g,{"current-page":t.pagination.page,"onUpdate:currentPage":a[0]||(a[0]=e=>t.pagination.page=e),"page-size":t.pagination.size,"onUpdate:pageSize":a[1]||(a[1]=e=>t.pagination.size=e),total:t.pagination.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:t.fetchSongs,onCurrentChange:t.fetchSongs,style:{"margin-top":"20px","justify-content":"center"}},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),y(Y,{modelValue:t.dialogVisible,"onUpdate:modelValue":a[9]||(a[9]=e=>t.dialogVisible=e),title:"add"===t.dialogMode?"æ–°å¢žæ­Œæ›²":"ç¼–è¾‘æ­Œæ›²",width:"700px","close-on-click-modal":!1},{footer:w(()=>[y(r,{onClick:a[8]||(a[8]=e=>t.dialogVisible=!1)},{default:w(()=>[...a[31]||(a[31]=[D("å–æ¶ˆ",-1)])]),_:1}),y(r,{type:"primary",loading:t.submitLoading,onClick:t.handleSubmit},{default:w(()=>[...a[32]||(a[32]=[D(" ç¡®å®š ",-1)])]),_:1},8,["loading","onClick"])]),default:w(()=>[y(O,{ref:"formRef",model:t.formData,rules:t.formRules,"label-width":"100px"},{default:w(()=>[y(U,{label:"æ­Œæ›²åç§°",prop:"title"},{default:w(()=>[y(x,{modelValue:t.formData.title,"onUpdate:modelValue":a[2]||(a[2]=e=>t.formData.title=e),placeholder:"è¯·è¾“å…¥æ­Œæ›²åç§°",maxlength:"100","show-word-limit":""},null,8,["modelValue"])]),_:1}),y(U,{label:"æ­Œæ‰‹",prop:"artistIds"},{default:w(()=>[y(q,{modelValue:t.formData.artistIds,"onUpdate:modelValue":a[3]||(a[3]=e=>t.formData.artistIds=e),placeholder:"è¯·é€‰æ‹©æ­Œæ‰‹ï¼ˆå¯å¤šé€‰ï¼‰",filterable:"",multiple:"","collapse-tags":"","collapse-tags-tooltip":"",style:{width:"100%"}},{default:w(()=>[(h(!0),f(S,null,z(t.artists,e=>(h(),k(L,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),y(U,{label:"ä¸“è¾‘åç§°",prop:"albumName"},{default:w(()=>[y(x,{modelValue:t.formData.albumName,"onUpdate:modelValue":a[4]||(a[4]=e=>t.formData.albumName=e),placeholder:"è¯·è¾“å…¥ä¸“è¾‘åç§°ï¼ˆå¯é€‰ï¼‰",maxlength:"100"},null,8,["modelValue"])]),_:1}),y(U,{label:"æ—¶é•¿ï¼ˆç§’ï¼‰",prop:"duration"},{default:w(()=>[y(A,{modelValue:t.formData.duration,"onUpdate:modelValue":a[5]||(a[5]=e=>t.formData.duration=e),min:0,max:7200,placeholder:"ä¾‹å¦‚ï¼š245",style:{width:"100%"}},null,8,["modelValue"]),v("span",P,u(t.formatDuration(t.formData.duration)),1)]),_:1}),y(U,{label:"å°é¢å›¾ç‰‡",prop:"cover"},{default:w(()=>[y(B,{class:"cover-uploader",action:t.uploadCoverAction,headers:t.uploadHeaders,"show-file-list":!1,"on-success":t.handleCoverSuccess,"before-upload":t.beforeCoverUpload,"on-progress":()=>t.coverUploading=!0},{default:w(()=>[t.formData.cover?(h(),f("img",{key:0,src:t.formData.cover,class:"cover-image"},null,8,T)):(h(),k(R,{key:1,class:c(["cover-uploader-icon",{uploading:t.coverUploading}])},{default:w(()=>[y(M)]),_:1},8,["class"]))]),_:1},8,["action","headers","on-success","before-upload","on-progress"]),a[25]||(a[25]=v("div",{style:{color:"#999","font-size":"12px","margin-top":"5px"}}," ç‚¹å‡»ä¸Šä¼ å°é¢å›¾ç‰‡ï¼Œæ”¯æŒ JPG/PNGï¼Œå¤§å°ä¸è¶…è¿‡ 2MB ",-1))]),_:1}),y(U,{label:"éŸ³ä¹æ–‡ä»¶",prop:"url"},{default:w(()=>[y(B,{action:t.uploadMusicAction,headers:t.uploadHeaders,"on-success":t.handleMusicSuccess,"before-upload":t.beforeMusicUpload,"on-progress":()=>t.musicUploading=!0,"show-file-list":!1},{default:w(()=>[y(r,{type:"primary",loading:t.musicUploading},{default:w(()=>[D(u(t.musicUploading?"ä¸Šä¼ ä¸­...":t.formData.url?"é‡æ–°ä¸Šä¼ ":"ä¸Šä¼ éŸ³ä¹"),1)]),_:1},8,["loading"])]),_:1},8,["action","headers","on-success","before-upload","on-progress"]),t.formData.url?(h(),f("div",H,[y(d,{type:"success"},{default:w(()=>[...a[26]||(a[26]=[D("âœ“ å·²ä¸Šä¼ ",-1)])]),_:1}),v("span",Q,u(t.formData.url.substring(t.formData.url.lastIndexOf("/")+1)),1)])):C("",!0),a[27]||(a[27]=v("div",{style:{color:"#999","font-size":"12px","margin-top":"5px"}}," æ”¯æŒ MP3/WAV/FLAC ç­‰æ ¼å¼ï¼Œå¤§å°ä¸è¶…è¿‡ 30MB ",-1))]),_:1}),y(U,{label:"æ­Œè¯",prop:"lyric"},{default:w(()=>[y(x,{modelValue:t.formData.lyric,"onUpdate:modelValue":a[6]||(a[6]=e=>t.formData.lyric=e),type:"textarea",rows:6,placeholder:"è¯·è¾“å…¥æ­Œè¯ï¼ˆLRC æ ¼å¼ï¼‰ï¼Œä¾‹å¦‚ï¼š\n[00:00.00]æ­Œæ›²æ ‡é¢˜\n[00:05.00]æ­Œæ‰‹å\n[00:20.50]æ­Œè¯ç¬¬ä¸€å¥"},null,8,["modelValue"]),a[28]||(a[28]=v("div",{style:{color:"#999","font-size":"12px","margin-top":"5px"}}," å¯é€‰ï¼Œæ”¯æŒ LRC æ ¼å¼æ­Œè¯ ",-1))]),_:1}),y(U,{label:"çŠ¶æ€",prop:"status"},{default:w(()=>[y(J,{modelValue:t.formData.status,"onUpdate:modelValue":a[7]||(a[7]=e=>t.formData.status=e)},{default:w(()=>[y(E,{label:1},{default:w(()=>[...a[29]||(a[29]=[D("ä¸Šæž¶",-1)])]),_:1}),y(E,{label:0},{default:w(()=>[...a[30]||(a[30]=[D("ä¸‹æž¶",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]),y(Y,{modelValue:t.batchEditDialogVisible,"onUpdate:modelValue":a[12]||(a[12]=e=>t.batchEditDialogVisible=e),title:"æ‰¹é‡ç¼–è¾‘æ­Œæ›²ç±»åž‹å’Œè¯­è¨€",width:"90%",top:"5vh","close-on-click-modal":!1},{footer:w(()=>[y(r,{onClick:a[11]||(a[11]=e=>t.batchEditDialogVisible=!1)},{default:w(()=>[...a[36]||(a[36]=[D("å–æ¶ˆ",-1)])]),_:1}),y(r,{type:"primary",loading:t.batchSubmitLoading,onClick:t.handleBatchSubmit},{default:w(()=>[...a[37]||(a[37]=[D(" ä¿å­˜ä¿®æ”¹ ",-1)])]),_:1},8,["loading","onClick"])]),default:w(()=>[v("div",K,[v("div",W,[y(X,{type:"info",closable:!1,"show-icon":""},{title:w(()=>[v("span",null,"å…± "+u(t.batchSongList.length)+" é¦–æ­Œæ›²ï¼Œå¯ç›´æŽ¥åœ¨è¡¨æ ¼ä¸­ç¼–è¾‘ç±»åž‹å’Œè¯­è¨€",1)]),_:1}),v("div",$,[y(r,{type:"primary",icon:"Select",onClick:t.quickSetGenre},{default:w(()=>[...a[33]||(a[33]=[D("å¿«é€Ÿè®¾ç½®ç±»åž‹",-1)])]),_:1},8,["onClick"]),y(r,{type:"success",icon:"Select",onClick:t.quickSetLanguage},{default:w(()=>[...a[34]||(a[34]=[D("å¿«é€Ÿè®¾ç½®è¯­è¨€",-1)])]),_:1},8,["onClick"]),y(x,{modelValue:t.batchSearchKeyword,"onUpdate:modelValue":a[10]||(a[10]=e=>t.batchSearchKeyword=e),placeholder:"æœç´¢æ­Œæ›²åç§°æˆ–æ­Œæ‰‹",style:{width:"300px","margin-left":"10px"},clearable:""},{prefix:w(()=>[y(R,null,{default:w(()=>[y(Z)]),_:1})]),_:1},8,["modelValue"])])]),b((h(),k(m,{data:t.filteredBatchSongList,border:"",stripe:"",style:{width:"100%","margin-top":"15px"},"max-height":"500"},{default:w(()=>[y(n,{type:"index",label:"åºå·",width:"60",align:"center"}),y(n,{label:"å°é¢",width:"70",align:"center"},{default:w(({row:e})=>[y(s,{style:{width:"40px",height:"40px","border-radius":"4px"},src:e.cover,fit:"cover"},{error:w(()=>[...a[35]||(a[35]=[v("div",{class:"image-slot-small"},"ðŸŽµ",-1)])]),_:1},8,["src"])]),_:1}),y(n,{prop:"title",label:"æ­Œæ›²åç§°",width:"200","show-overflow-tooltip":""}),y(n,{label:"æ­Œæ‰‹",width:"150","show-overflow-tooltip":""},{default:w(({row:e})=>[D(u(e.artists&&e.artists.length>0?e.artists.map(e=>e.name).join(" / "):"-"),1)]),_:1}),y(n,{label:"ç±»åž‹",width:"150",align:"center"},{default:w(({row:e})=>[y(q,{modelValue:e.genre,"onUpdate:modelValue":a=>e.genre=a,size:"small",placeholder:"é€‰æ‹©ç±»åž‹",clearable:""},{default:w(()=>[y(L,{label:"æµè¡Œ",value:"æµè¡Œ"}),y(L,{label:"æ‘‡æ»š",value:"æ‘‡æ»š"}),y(L,{label:"æ°‘è°£",value:"æ°‘è°£"}),y(L,{label:"ç”µå­",value:"ç”µå­"}),y(L,{label:"è¯´å”±",value:"è¯´å”±"}),y(L,{label:"R&B",value:"R&B"}),y(L,{label:"çˆµå£«",value:"çˆµå£«"}),y(L,{label:"å¤å…¸",value:"å¤å…¸"}),y(L,{label:"è½»éŸ³ä¹",value:"è½»éŸ³ä¹"}),y(L,{label:"çº¯éŸ³ä¹",value:"çº¯éŸ³ä¹"})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1}),y(n,{label:"è¯­è¨€",width:"150",align:"center"},{default:w(({row:e})=>[y(q,{modelValue:e.language,"onUpdate:modelValue":a=>e.language=a,size:"small",placeholder:"é€‰æ‹©è¯­è¨€",clearable:""},{default:w(()=>[y(L,{label:"å›½è¯­",value:"å›½è¯­"}),y(L,{label:"ç²¤è¯­",value:"ç²¤è¯­"}),y(L,{label:"è‹±è¯­",value:"è‹±è¯­"}),y(L,{label:"æ—¥è¯­",value:"æ—¥è¯­"}),y(L,{label:"éŸ©è¯­",value:"éŸ©è¯­"}),y(L,{label:"å…¶ä»–",value:"å…¶ä»–"})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1}),y(n,{label:"å½“å‰å€¼",width:"200",align:"center"},{default:w(({row:e})=>[v("div",F,[e.genre?(h(),k(d,{key:0,size:"small",type:"info"},{default:w(()=>[D("ç±»åž‹: "+u(e.genre),1)]),_:2},1024)):C("",!0),e.language?(h(),k(d,{key:1,size:"small",type:"success"},{default:w(()=>[D("è¯­è¨€: "+u(e.language),1)]),_:2},1024)):C("",!0)])]),_:1})]),_:1},8,["data"])),[[ee,t.batchLoading]])])]),_:1},8,["modelValue"]),y(Y,{modelValue:t.quickGenreDialogVisible,"onUpdate:modelValue":a[15]||(a[15]=e=>t.quickGenreDialogVisible=e),title:"å¿«é€Ÿè®¾ç½®ç±»åž‹",width:"400px"},{footer:w(()=>[y(r,{onClick:a[14]||(a[14]=e=>t.quickGenreDialogVisible=!1)},{default:w(()=>[...a[38]||(a[38]=[D("å–æ¶ˆ",-1)])]),_:1}),y(r,{type:"primary",onClick:t.applyQuickGenre},{default:w(()=>[...a[39]||(a[39]=[D("åº”ç”¨åˆ°æ‰€æœ‰æ­Œæ›²",-1)])]),_:1},8,["onClick"])]),default:w(()=>[y(O,{"label-width":"80px"},{default:w(()=>[y(U,{label:"é€‰æ‹©ç±»åž‹"},{default:w(()=>[y(q,{modelValue:t.quickGenreValue,"onUpdate:modelValue":a[13]||(a[13]=e=>t.quickGenreValue=e),placeholder:"è¯·é€‰æ‹©ç±»åž‹",style:{width:"100%"}},{default:w(()=>[y(L,{label:"æµè¡Œ",value:"æµè¡Œ"}),y(L,{label:"æ‘‡æ»š",value:"æ‘‡æ»š"}),y(L,{label:"æ°‘è°£",value:"æ°‘è°£"}),y(L,{label:"ç”µå­",value:"ç”µå­"}),y(L,{label:"è¯´å”±",value:"è¯´å”±"}),y(L,{label:"R&B",value:"R&B"}),y(L,{label:"çˆµå£«",value:"çˆµå£«"}),y(L,{label:"å¤å…¸",value:"å¤å…¸"}),y(L,{label:"è½»éŸ³ä¹",value:"è½»éŸ³ä¹"}),y(L,{label:"çº¯éŸ³ä¹",value:"çº¯éŸ³ä¹"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),y(Y,{modelValue:t.quickLanguageDialogVisible,"onUpdate:modelValue":a[18]||(a[18]=e=>t.quickLanguageDialogVisible=e),title:"å¿«é€Ÿè®¾ç½®è¯­è¨€",width:"400px"},{footer:w(()=>[y(r,{onClick:a[17]||(a[17]=e=>t.quickLanguageDialogVisible=!1)},{default:w(()=>[...a[40]||(a[40]=[D("å–æ¶ˆ",-1)])]),_:1}),y(r,{type:"primary",onClick:t.applyQuickLanguage},{default:w(()=>[...a[41]||(a[41]=[D("åº”ç”¨åˆ°æ‰€æœ‰æ­Œæ›²",-1)])]),_:1},8,["onClick"])]),default:w(()=>[y(O,{"label-width":"80px"},{default:w(()=>[y(U,{label:"é€‰æ‹©è¯­è¨€"},{default:w(()=>[y(q,{modelValue:t.quickLanguageValue,"onUpdate:modelValue":a[16]||(a[16]=e=>t.quickLanguageValue=e),placeholder:"è¯·é€‰æ‹©è¯­è¨€",style:{width:"100%"}},{default:w(()=>[y(L,{label:"å›½è¯­",value:"å›½è¯­"}),y(L,{label:"ç²¤è¯­",value:"ç²¤è¯­"}),y(L,{label:"è‹±è¯­",value:"è‹±è¯­"}),y(L,{label:"æ—¥è¯­",value:"æ—¥è¯­"}),y(L,{label:"éŸ©è¯­",value:"éŸ©è¯­"}),y(L,{label:"å…¶ä»–",value:"å…¶ä»–"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}],["__scopeId","data-v-428e42f1"]])},setup:()=>({userStore:a(),activeTab:p("artist")})},[["render",function(e,a,l,t,o,i){const r=_("el-alert"),n=_("ArtistManagement"),s=_("el-tab-pane"),d=_("SongManagement"),c=_("el-tabs");return h(),f("div",J,[a[3]||(a[3]=v("div",{class:"page-header"},[v("h2",null,"ðŸ”§ ç®¡ç†åŽå°"),v("p",{class:"subtitle"},"ç³»ç»Ÿç®¡ç†ä¸Žæ•°æ®ç»´æŠ¤")],-1)),y(r,{title:"ç®¡ç†å‘˜ä¸“å±žåŒºåŸŸ",type:"success",closable:!1,"show-icon":"",style:{"margin-bottom":"30px"}},{default:w(()=>{var e;return[a[1]||(a[1]=D(" æ¬¢è¿Ž ",-1)),v("strong",null,u(null==(e=t.userStore.userInfo)?void 0:e.nickname),1),a[2]||(a[2]=D("ï¼Œä½ å½“å‰æ‹¥æœ‰ç®¡ç†å‘˜æƒé™ ",-1))]}),_:1}),y(c,{modelValue:t.activeTab,"onUpdate:modelValue":a[0]||(a[0]=e=>t.activeTab=e),type:"card"},{default:w(()=>[y(s,{label:"ðŸŽ¤ æ­Œæ‰‹ç®¡ç†",name:"artist"},{default:w(()=>[y(n)]),_:1}),y(s,{label:"ðŸŽµ æ­Œæ›²ç®¡ç†",name:"song"},{default:w(()=>[y(d)]),_:1})]),_:1},8,["modelValue"])])}],["__scopeId","data-v-8722bc53"]]);export{O as default};
