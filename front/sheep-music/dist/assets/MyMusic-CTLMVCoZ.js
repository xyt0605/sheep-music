import{_ as _t,a4 as pt,a5 as ft,a6 as vt,a7 as Ct,R as ht,a8 as Pt,V as kt,a9 as wt,S as bt,c as y,o as r,a as s,d as a,w as n,r as c,g as _,h as dt,i as zt,W as Dt,E as g,u as St,N as yt,z as p,q as A,e as f,t as m,I as V,J as q,L as w}from"./index-C5bpx5EP.js";import{u as Vt,g as Tt,d as Ft,c as xt,a as Mt}from"./player-BQpaZ7da.js";import{g as Ht,c as Lt,r as Ut}from"./favorite-Dc9dt7b4.js";import{P as At,s as Bt,u as Nt,c as Rt,b as Et,d as qt}from"./PlaylistCover-Db5TaDqG.js";import{P as It}from"./PlaylistSelector-J5lt_TYX.js";import"./song-BK1efH3L.js";import"./request-WXopXHOE.js";const Jt={name:"MyMusic",components:{PlaylistCover:At,PlaylistSelector:It,Loading:bt,Star:wt,Clock:kt,Plus:Pt,CaretRight:ht,MoreFilled:Ct,Edit:vt,View:ft,Delete:pt},setup(){const I=St(),l=Dt(),tt=Vt(),t=_("favorites"),O=_([]),et=_([]),b=_(!1),v=_(0),u=_(0),J="https://via.placeholder.com/60?text=Music",T=dt({page:1,size:20,total:0}),D=dt({page:1,size:20,total:0}),B=_([]),Q=_(1),X=_(12),Y=_(0),ot="https://via.placeholder.com/200?text=Playlist",F=_(!1),W=_("åˆ›å»ºæ­Œå•"),d=dt({id:null,name:"",description:"",cover:"",category:"",isPublic:!1}),j=["æµè¡Œ","æ‘‡æ»š","æ°‘è°£","ç”µå­","çº¯éŸ³ä¹","å…¶ä»–"],Z=_(!1),$=_(null),N=async()=>{b.value=!0;try{const e=await Ht({page:T.page-1,size:T.size});e.code===200&&(O.value=e.data.content||[],T.total=e.data.totalElements||0)}catch(e){console.error("åŠ è½½æ”¶è—å¤±è´¥:",e),g.error("åŠ è½½æ”¶è—å¤±è´¥")}finally{b.value=!1}},G=async()=>{try{const e=await Lt();e.code===200&&(v.value=e.data.count||0)}catch(e){console.error("åŠ è½½æ”¶è—æ•°é‡å¤±è´¥:",e)}},R=async()=>{b.value=!0;try{const e=await Tt({page:D.page-1,size:D.size});e.code===200&&(et.value=e.data.content||[],D.total=e.data.totalElements||0)}catch(e){console.error("åŠ è½½æ’­æ”¾åŽ†å²å¤±è´¥:",e),g.error("åŠ è½½æ’­æ”¾åŽ†å²å¤±è´¥")}finally{b.value=!1}},x=async()=>{try{const e=await Mt();e.code===200&&(u.value=e.data.count||0)}catch(e){console.error("åŠ è½½æ’­æ”¾åŽ†å²æ•°é‡å¤±è´¥:",e)}},M=async()=>{try{await yt.confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰æ’­æ”¾åŽ†å²å—ï¼Ÿ","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),(await xt()).code===200&&(g.success("æ¸…ç©ºæˆåŠŸ"),R(),x())}catch(e){e!=="cancel"&&g.error("æ¸…ç©ºå¤±è´¥")}},lt=async e=>{try{(await Ft(e)).code===200&&(g.success("åˆ é™¤æˆåŠŸ"),R(),x())}catch{g.error("åˆ é™¤å¤±è´¥")}},at=e=>{console.log("åˆ‡æ¢åˆ°:",e.props.name),e.props.name==="favorites"?(N(),G()):e.props.name==="history"?(R(),x()):e.props.name==="playlists"&&k()},st=e=>{if(!e)return;const i=O.value.map(S=>S.song);tt.play(e,i)},nt=e=>{e&&(tt.addToPlaylist(e),g.success("å·²æ·»åŠ åˆ°æ’­æ”¾åˆ—è¡¨"))},it=async e=>{try{await yt.confirm("ç¡®å®šè¦å–æ¶ˆæ”¶è—è¿™é¦–æ­Œæ›²å—ï¼Ÿ","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),(await Ut(e)).code===200&&(g.success("å–æ¶ˆæ”¶è—æˆåŠŸ"),N(),G())}catch(i){i!=="cancel"&&g.error("å–æ¶ˆæ”¶è—å¤±è´¥")}},rt=e=>{e&&I.push(`/artist/${e}`)},o=e=>{if(!e)return"00:00";const i=Math.floor(e/60),S=e%60;return`${i}:${S.toString().padStart(2,"0")}`},P=e=>{if(!e)return"-";const i=new Date(e),z=new Date-i;return z<60*1e3?"åˆšåˆš":z<60*60*1e3?`${Math.floor(z/(60*1e3))}åˆ†é’Ÿå‰`:z<24*60*60*1e3?`${Math.floor(z/(60*60*1e3))}å°æ—¶å‰`:z<7*24*60*60*1e3?`${Math.floor(z/(24*60*60*1e3))}å¤©å‰`:i.toLocaleDateString("zh-CN")},H=e=>{if(!e)return"-";const i=new Date(e),S=new Date,z=S-i;if(i.toDateString()===S.toDateString())return"ä»Šå¤© "+i.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"});const ct=new Date(S);return ct.setDate(ct.getDate()-1),i.toDateString()===ct.toDateString()?"æ˜¨å¤© "+i.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):z<7*24*60*60*1e3?["å‘¨æ—¥","å‘¨ä¸€","å‘¨äºŒ","å‘¨ä¸‰","å‘¨å››","å‘¨äº”","å‘¨å…­"][i.getDay()]+" "+i.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):i.toLocaleDateString("zh-CN")+" "+i.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})},k=async()=>{b.value=!0;try{const e=await Et({page:Q.value-1,size:X.value});e.code===200&&(B.value=e.data.content||[],Y.value=e.data.totalElements||0)}catch(e){console.error("åŠ è½½æ­Œå•å¤±è´¥:",e),g.error("åŠ è½½æ­Œå•å¤±è´¥")}finally{b.value=!1}},L=()=>{W.value="åˆ›å»ºæ­Œå•",d.id=null,d.name="",d.description="",d.cover="",d.category="",d.isPublic=!1,F.value=!0},C=e=>{W.value="ç¼–è¾‘æ­Œå•",d.id=e.id,d.name=e.name,d.description=e.description||"",d.cover=e.cover||"",d.category=e.category||"",d.isPublic=e.isPublic||!1,F.value=!0},h=async()=>{if(!d.name.trim()){g.warning("è¯·è¾“å…¥æ­Œå•åç§°");return}try{const e={name:d.name,description:d.description,cover:d.cover,category:d.category,isPublic:d.isPublic};let i;d.id?i=await Nt(d.id,e):i=await Rt(e),i.code===200&&(g.success(i.message||(d.id?"æ›´æ–°æˆåŠŸ":"åˆ›å»ºæˆåŠŸ")),F.value=!1,k())}catch{g.error(d.id?"æ›´æ–°å¤±è´¥":"åˆ›å»ºå¤±è´¥")}},E=async e=>{try{await yt.confirm(`ç¡®å®šè¦åˆ é™¤æ­Œå•"${e.name}"å—ï¼Ÿåˆ é™¤åŽå°†æ— æ³•æ¢å¤ï¼`,"åˆ é™¤ç¡®è®¤",{confirmButtonText:"ç¡®å®šåˆ é™¤",cancelButtonText:"å–æ¶ˆ",type:"warning"}),await U(e.id)}catch{}},U=async e=>{try{(await qt(e)).code===200&&(g.success("åˆ é™¤æˆåŠŸ"),k())}catch{g.error("åˆ é™¤å¤±è´¥")}},K=async e=>{try{const i=await Bt(e.id,!e.isPublic);i.code===200&&(g.success(i.message||"è®¾ç½®æˆåŠŸ"),k())}catch{g.error("è®¾ç½®å¤±è´¥")}},ut=e=>{I.push(`/playlist/${e}`)},gt=e=>{e&&($.value=e,Z.value=!0)},mt=()=>{};return zt(()=>{const e=l.query.tab;e&&["favorites","history","playlists"].includes(e)&&(t.value=e),t.value==="favorites"&&(N(),G())}),{activeTab:t,favorites:O,playHistory:et,loading:b,favoriteCount:v,historyCount:u,favoritePagination:T,historyPagination:D,defaultCover:J,handleTabClick:at,handlePlaySong:st,handleAddToPlaylist:nt,handleRemoveFavorite:it,handleClearHistory:M,handleDeleteHistory:lt,goToArtist:rt,formatDuration:o,formatDate:P,formatDateTime:H,loadFavorites:N,loadPlayHistory:R,playlists:B,playlistPage:Q,playlistPageSize:X,playlistTotal:Y,defaultPlaylistCover:ot,playlistDialogVisible:F,playlistDialogTitle:W,playlistForm:d,playlistCategories:j,loadPlaylists:k,showCreatePlaylistDialog:L,editPlaylist:C,savePlaylist:h,confirmDeletePlaylist:E,togglePlaylistVisibility:K,goToPlaylistDetail:ut,playlistSelectorVisible:Z,selectedSongId:$,showAddToPlaylistDialog:gt,handleAddSuccess:mt}}},Wt={class:"my-music"},jt={class:"tab-content"},Gt={class:"stats-bar"},Kt={class:"stats-item"},Ot={class:"favorites-list"},Qt=["onClick"],Xt=["src"],Yt={class:"song-info"},Zt={class:"song-name"},$t={class:"song-artist"},te=["onClick"],ee={key:0},oe={key:0},le={class:"song-duration"},ae={class:"favorite-time"},se={class:"song-actions"},ne={key:0,class:"empty-state"},ie={key:1,class:"loading-state"},re={class:"tab-content"},ce={class:"stats-bar"},de={class:"stats-item"},ye={class:"history-list"},ue=["onClick"],ge=["src"],me={class:"song-info"},_e={class:"song-name"},pe={class:"song-artist"},fe=["onClick"],ve={key:0},Ce={key:0},he={class:"play-info"},Pe={class:"play-time"},ke={key:0,class:"play-count"},we={class:"song-actions"},be={key:0,class:"empty-state"},ze={key:1,class:"loading-state"},De={class:"tab-content"},Se={class:"playlist-header"},Ve={class:"header-info"},Te={class:"count-info"},Fe={key:0,class:"playlist-grid"},xe=["onClick"],Me={class:"playlist-cover-wrapper"},He={class:"playlist-overlay"},Le={class:"playlist-info"},Ue=["title"],Ae={class:"playlist-meta"},Be={key:0,class:"playlist-desc"},Ne={key:1,class:"empty-state"},Re={class:"dialog-footer"};function Ee(I,l,tt,t,O,et){const b=c("Star"),v=c("el-icon"),u=c("el-button"),J=c("el-empty"),T=c("Loading"),D=c("el-pagination"),B=c("el-tab-pane"),Q=c("Clock"),X=c("Plus"),Y=c("PlaylistCover"),ot=c("CaretRight"),F=c("el-tag"),W=c("MoreFilled"),d=c("Edit"),j=c("el-dropdown-item"),Z=c("View"),$=c("Delete"),N=c("el-dropdown-menu"),G=c("el-dropdown"),R=c("el-tabs"),x=c("el-input"),M=c("el-form-item"),lt=c("el-option"),at=c("el-select"),st=c("el-switch"),nt=c("el-form"),it=c("el-dialog"),rt=c("PlaylistSelector");return r(),y("div",Wt,[l[32]||(l[32]=s("div",{class:"page-header"},[s("h2",null,"ðŸŽµ æˆ‘çš„éŸ³ä¹"),s("p",{class:"subtitle"},"æˆ‘çš„æ”¶è—ã€æ’­æ”¾åŽ†å²å’Œæ­Œå•ç®¡ç†")],-1)),a(R,{modelValue:t.activeTab,"onUpdate:modelValue":l[8]||(l[8]=o=>t.activeTab=o),class:"music-tabs",onTabClick:t.handleTabClick},{default:n(()=>[a(B,{label:"ðŸ’– æˆ‘çš„æ”¶è—",name:"favorites"},{default:n(()=>[s("div",jt,[s("div",Gt,[s("span",Kt,[a(v,null,{default:n(()=>[a(b)]),_:1}),f(" å…± "+m(t.favoriteCount)+" é¦–æ”¶è— ",1)])]),s("div",Ot,[(r(!0),y(V,null,q(t.favorites,o=>{var P,H,k,L,C;return r(),y("div",{key:o.id,class:"song-item",onClick:h=>t.handlePlaySong(o.song)},[s("img",{src:((P=o.song)==null?void 0:P.cover)||t.defaultCover,alt:"å°é¢",class:"song-cover"},null,8,Xt),s("div",Yt,[s("div",Zt,m((H=o.song)==null?void 0:H.title),1),s("div",$t,[(r(!0),y(V,null,q(((k=o.song)==null?void 0:k.artists)||[],(h,E)=>{var U,K;return r(),y(V,{key:h.id},[s("span",{class:"clickable",onClick:w(ut=>t.goToArtist(h.id),["stop"])},m(h.name),9,te),E<(((K=(U=o.song)==null?void 0:U.artists)==null?void 0:K.length)||0)-1?(r(),y("span",ee," / ")):p("",!0)],64)}),128)),!((L=o.song)!=null&&L.artists)||o.song.artists.length===0?(r(),y("span",oe,"æœªçŸ¥æ­Œæ‰‹")):p("",!0)])]),s("div",le,m(t.formatDuration((C=o.song)==null?void 0:C.duration)),1),s("div",ae,m(t.formatDate(o.createTime)),1),s("div",se,[a(u,{icon:"CaretRight",circle:"",size:"small",onClick:w(h=>t.handlePlaySong(o.song),["stop"]),title:"æ’­æ”¾"},null,8,["onClick"]),a(u,{icon:"Plus",circle:"",size:"small",onClick:w(h=>t.handleAddToPlaylist(o.song),["stop"]),title:"æ·»åŠ åˆ°æ’­æ”¾åˆ—è¡¨"},null,8,["onClick"]),a(u,{icon:"FolderAdd",circle:"",size:"small",onClick:w(h=>t.showAddToPlaylistDialog(o.song.id),["stop"]),title:"æ·»åŠ åˆ°æ­Œå•"},null,8,["onClick"]),a(u,{icon:"Delete",circle:"",size:"small",type:"danger",onClick:w(h=>t.handleRemoveFavorite(o.song.id),["stop"]),title:"å–æ¶ˆæ”¶è—"},null,8,["onClick"])])],8,Qt)}),128))]),t.favorites.length===0&&!t.loading?(r(),y("div",ne,[a(J,{description:"è¿˜æ²¡æœ‰æ”¶è—æ­Œæ›²"},{default:n(()=>[a(u,{type:"primary",onClick:l[0]||(l[0]=o=>I.$router.push("/home"))},{default:n(()=>[...l[18]||(l[18]=[f("åŽ»é¦–é¡µé€›é€›",-1)])]),_:1})]),_:1})])):p("",!0),t.loading?(r(),y("div",ie,[a(v,{class:"is-loading"},{default:n(()=>[a(T)]),_:1}),l[19]||(l[19]=s("p",null,"åŠ è½½ä¸­...",-1))])):p("",!0),t.favoritePagination.total>t.favoritePagination.size?(r(),A(D,{key:2,"current-page":t.favoritePagination.page,"onUpdate:currentPage":l[1]||(l[1]=o=>t.favoritePagination.page=o),"page-size":t.favoritePagination.size,"onUpdate:pageSize":l[2]||(l[2]=o=>t.favoritePagination.size=o),total:t.favoritePagination.total,"page-sizes":[10,20,50],layout:"total, sizes, prev, pager, next",onSizeChange:t.loadFavorites,onCurrentChange:t.loadFavorites,class:"pagination"},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])):p("",!0)])]),_:1}),a(B,{label:"ðŸ•’ æ’­æ”¾åŽ†å²",name:"history"},{default:n(()=>[s("div",re,[s("div",ce,[s("span",de,[a(v,null,{default:n(()=>[a(Q)]),_:1}),f(" å…± "+m(t.historyCount)+" æ¡æ’­æ”¾è®°å½• ",1)]),t.playHistory.length>0?(r(),A(u,{key:0,type:"danger",size:"small",onClick:t.handleClearHistory},{default:n(()=>[...l[20]||(l[20]=[f(" æ¸…ç©ºåŽ†å² ",-1)])]),_:1},8,["onClick"])):p("",!0)]),s("div",ye,[(r(!0),y(V,null,q(t.playHistory,o=>{var P,H,k,L;return r(),y("div",{key:o.id,class:"history-item",onClick:C=>t.handlePlaySong(o.song)},[s("img",{src:((P=o.song)==null?void 0:P.cover)||t.defaultCover,alt:"å°é¢",class:"song-cover"},null,8,ge),s("div",me,[s("div",_e,m((H=o.song)==null?void 0:H.title),1),s("div",pe,[(r(!0),y(V,null,q(((k=o.song)==null?void 0:k.artists)||[],(C,h)=>{var E,U;return r(),y(V,{key:C.id},[s("span",{class:"clickable",onClick:w(K=>t.goToArtist(C.id),["stop"])},m(C.name),9,fe),h<(((U=(E=o.song)==null?void 0:E.artists)==null?void 0:U.length)||0)-1?(r(),y("span",ve," / ")):p("",!0)],64)}),128)),!((L=o.song)!=null&&L.artists)||o.song.artists.length===0?(r(),y("span",Ce,"æœªçŸ¥æ­Œæ‰‹")):p("",!0)])]),s("div",he,[s("div",Pe,m(t.formatDateTime(o.playTime)),1),o.playCount&&o.playCount>1?(r(),y("div",ke," æ’­æ”¾ "+m(o.playCount)+" æ¬¡ ",1)):p("",!0)]),s("div",we,[a(u,{icon:"CaretRight",circle:"",size:"small",onClick:w(C=>t.handlePlaySong(o.song),["stop"]),title:"æ’­æ”¾"},null,8,["onClick"]),a(u,{icon:"Plus",circle:"",size:"small",onClick:w(C=>t.handleAddToPlaylist(o.song),["stop"]),title:"æ·»åŠ åˆ°æ’­æ”¾åˆ—è¡¨"},null,8,["onClick"]),a(u,{icon:"FolderAdd",circle:"",size:"small",onClick:w(C=>t.showAddToPlaylistDialog(o.song.id),["stop"]),title:"æ·»åŠ åˆ°æ­Œå•"},null,8,["onClick"]),a(u,{icon:"Delete",circle:"",size:"small",type:"danger",onClick:w(C=>t.handleDeleteHistory(o.id),["stop"]),title:"åˆ é™¤è®°å½•"},null,8,["onClick"])])],8,ue)}),128))]),t.playHistory.length===0&&!t.loading?(r(),y("div",be,[a(J,{description:"è¿˜æ²¡æœ‰æ’­æ”¾è®°å½•"},{default:n(()=>[a(u,{type:"primary",onClick:l[3]||(l[3]=o=>I.$router.push("/home"))},{default:n(()=>[...l[21]||(l[21]=[f("åŽ»é¦–é¡µå¬æ­Œ",-1)])]),_:1})]),_:1})])):p("",!0),t.loading?(r(),y("div",ze,[a(v,{class:"is-loading"},{default:n(()=>[a(T)]),_:1}),l[22]||(l[22]=s("p",null,"åŠ è½½ä¸­...",-1))])):p("",!0),t.historyPagination.total>t.historyPagination.size?(r(),A(D,{key:2,"current-page":t.historyPagination.page,"onUpdate:currentPage":l[4]||(l[4]=o=>t.historyPagination.page=o),"page-size":t.historyPagination.size,"onUpdate:pageSize":l[5]||(l[5]=o=>t.historyPagination.size=o),total:t.historyPagination.total,"page-sizes":[10,20,50],layout:"total, sizes, prev, pager, next",onSizeChange:t.loadPlayHistory,onCurrentChange:t.loadPlayHistory,class:"pagination"},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])):p("",!0)])]),_:1}),a(B,{label:"ðŸ“ æˆ‘çš„æ­Œå•",name:"playlists"},{default:n(()=>[s("div",De,[s("div",Se,[s("div",Ve,[l[23]||(l[23]=s("h3",null,"æˆ‘çš„æ­Œå•",-1)),s("p",Te,"å…± "+m(t.playlistTotal)+" ä¸ªæ­Œå•",1)]),a(u,{type:"primary",onClick:t.showCreatePlaylistDialog},{default:n(()=>[a(v,null,{default:n(()=>[a(X)]),_:1}),l[24]||(l[24]=f(" åˆ›å»ºæ­Œå• ",-1))]),_:1},8,["onClick"])]),t.playlists.length>0?(r(),y("div",Fe,[(r(!0),y(V,null,q(t.playlists,o=>(r(),y("div",{key:o.id,class:"playlist-card",onClick:P=>t.goToPlaylistDetail(o.id)},[s("div",Me,[a(Y,{cover:o.cover,size:200,"default-cover":t.defaultPlaylistCover,class:"playlist-cover"},null,8,["cover","default-cover"]),s("div",He,[a(v,{class:"play-icon"},{default:n(()=>[a(ot)]),_:1})])]),s("div",Le,[s("h4",{class:"playlist-name",title:o.name},m(o.name),9,Ue),s("p",Ae,[s("span",null,m(o.songCount||0)+" é¦–æ­Œæ›²",1),o.isPublic?(r(),A(F,{key:0,size:"small",type:"success"},{default:n(()=>[...l[25]||(l[25]=[f("å…¬å¼€",-1)])]),_:1})):(r(),A(F,{key:1,size:"small",type:"info"},{default:n(()=>[...l[26]||(l[26]=[f("ç§æœ‰",-1)])]),_:1}))]),o.description?(r(),y("p",Be,m(o.description),1)):p("",!0)]),s("div",{class:"playlist-actions",onClick:l[6]||(l[6]=w(()=>{},["stop"]))},[a(G,{trigger:"click"},{dropdown:n(()=>[a(N,null,{default:n(()=>[a(j,{onClick:P=>t.editPlaylist(o)},{default:n(()=>[a(v,null,{default:n(()=>[a(d)]),_:1}),l[27]||(l[27]=f(" ç¼–è¾‘ ",-1))]),_:1},8,["onClick"]),a(j,{onClick:P=>t.togglePlaylistVisibility(o)},{default:n(()=>[a(v,null,{default:n(()=>[a(Z)]),_:1}),f(" "+m(o.isPublic?"è®¾ä¸ºç§æœ‰":"è®¾ä¸ºå…¬å¼€"),1)]),_:2},1032,["onClick"]),a(j,{onClick:P=>t.confirmDeletePlaylist(o),divided:""},{default:n(()=>[a(v,null,{default:n(()=>[a($)]),_:1}),l[28]||(l[28]=f(" åˆ é™¤ ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),default:n(()=>[a(u,{circle:"",size:"small"},{default:n(()=>[a(v,null,{default:n(()=>[a(W)]),_:1})]),_:1})]),_:2},1024)])],8,xe))),128))])):(r(),y("div",Ne,[a(J,{description:"è¿˜æ²¡æœ‰åˆ›å»ºæ­Œå•"},{default:n(()=>[a(u,{type:"primary",onClick:t.showCreatePlaylistDialog},{default:n(()=>[...l[29]||(l[29]=[f("åˆ›å»ºæˆ‘çš„ç¬¬ä¸€ä¸ªæ­Œå•",-1)])]),_:1},8,["onClick"])]),_:1})])),t.playlistTotal>t.playlistPageSize?(r(),A(D,{key:2,"current-page":t.playlistPage,"onUpdate:currentPage":l[7]||(l[7]=o=>t.playlistPage=o),"page-size":t.playlistPageSize,total:t.playlistTotal,layout:"prev, pager, next",class:"pagination",onCurrentChange:t.loadPlaylists},null,8,["current-page","page-size","total","onCurrentChange"])):p("",!0)])]),_:1})]),_:1},8,["modelValue","onTabClick"]),a(it,{modelValue:t.playlistDialogVisible,"onUpdate:modelValue":l[15]||(l[15]=o=>t.playlistDialogVisible=o),title:t.playlistDialogTitle,width:"500px",onClose:l[16]||(l[16]=o=>t.playlistDialogVisible=!1)},{footer:n(()=>[s("span",Re,[a(u,{onClick:l[14]||(l[14]=o=>t.playlistDialogVisible=!1)},{default:n(()=>[...l[30]||(l[30]=[f("å–æ¶ˆ",-1)])]),_:1}),a(u,{type:"primary",onClick:t.savePlaylist},{default:n(()=>[...l[31]||(l[31]=[f("ä¿å­˜",-1)])]),_:1},8,["onClick"])])]),default:n(()=>[a(nt,{model:t.playlistForm,"label-width":"80px"},{default:n(()=>[a(M,{label:"æ­Œå•åç§°",required:""},{default:n(()=>[a(x,{modelValue:t.playlistForm.name,"onUpdate:modelValue":l[9]||(l[9]=o=>t.playlistForm.name=o),placeholder:"è¯·è¾“å…¥æ­Œå•åç§°",maxlength:"50","show-word-limit":""},null,8,["modelValue"])]),_:1}),a(M,{label:"æ­Œå•ç®€ä»‹"},{default:n(()=>[a(x,{modelValue:t.playlistForm.description,"onUpdate:modelValue":l[10]||(l[10]=o=>t.playlistForm.description=o),type:"textarea",rows:3,placeholder:"ä»‹ç»ä¸€ä¸‹è¿™ä¸ªæ­Œå•å§~",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1}),a(M,{label:"åˆ†ç±»"},{default:n(()=>[a(at,{modelValue:t.playlistForm.category,"onUpdate:modelValue":l[11]||(l[11]=o=>t.playlistForm.category=o),placeholder:"é€‰æ‹©æ­Œå•åˆ†ç±»"},{default:n(()=>[(r(!0),y(V,null,q(t.playlistCategories,o=>(r(),A(lt,{key:o,label:o,value:o},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(M,{label:"å°é¢å›¾ç‰‡"},{default:n(()=>[a(x,{modelValue:t.playlistForm.cover,"onUpdate:modelValue":l[12]||(l[12]=o=>t.playlistForm.cover=o),placeholder:"è¯·è¾“å…¥å°é¢å›¾ç‰‡URLï¼ˆé€‰å¡«ï¼‰"},null,8,["modelValue"])]),_:1}),a(M,{label:"æ˜¯å¦å…¬å¼€"},{default:n(()=>[a(st,{modelValue:t.playlistForm.isPublic,"onUpdate:modelValue":l[13]||(l[13]=o=>t.playlistForm.isPublic=o),"active-text":"å…¬å¼€åˆ°æ­Œå•å¹¿åœº","inactive-text":"ä»…è‡ªå·±å¯è§"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),a(rt,{modelValue:t.playlistSelectorVisible,"onUpdate:modelValue":l[17]||(l[17]=o=>t.playlistSelectorVisible=o),"song-id":t.selectedSongId,onSuccess:t.handleAddSuccess},null,8,["modelValue","song-id","onSuccess"])])}const Qe=_t(Jt,[["render",Ee],["__scopeId","data-v-b832adb5"]]);export{Qe as default};
